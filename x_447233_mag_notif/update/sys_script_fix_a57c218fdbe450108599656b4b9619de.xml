<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_fix">
    <sys_script_fix action="INSERT_OR_UPDATE">
        <active>true</active>
        <before>false</before>
        <description/>
        <flush_cache>false</flush_cache>
        <name/>
        <record_for_rollback>false</record_for_rollback>
        <run_once>true</run_once>
        <script><![CDATA[var a = new GlideRecord("incident");

a.initialize();

var allFields = [];

var tgt_table = "incident";
var tableAncestors = [tgt_table, "task"];
//var tableAncestors = SNC.TableEditor.getTableAncestors("incident");
var dictionary = new GlideRecord("sys_dictionary");
dictionary.orderBy("column_label")
dictionary.addQuery('name', 'ONE IN', tableAncestors);
dictionary.addQuery('element', '!=', 'NULL');
dictionary.query();

while (dictionary.next()) {
	allFields.push({
		name: dictionary.getValue("element"),
		label: dictionary.getDisplayValue(),
		type: dictionary.getValue("internal_type")
	});
}



a=null;
for (field in a) {
	allFields.push(field);
	a.setValue(field, "1");
	gs.warn(a.getElement(field).getED().getInternalType());
	/*
	var myF = a.getElement(field);
	if (myF){
		var ed = myF.getED();
		var isEdge = ed.getLabel();
		gs.warn(field + " __ " + isEdge);
	}
	else {
		gs.warn("don't like " + field);
	}
	*/
}]]></script>
        <sys_class_name>sys_script_fix</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-05-07 19:19:43</sys_created_on>
        <sys_id>a57c218fdbe450108599656b4b9619de</sys_id>
        <sys_mod_count>26</sys_mod_count>
        <sys_name/>
        <sys_package display_value="MAG Notification Editor" source="x_447233_mag_notif">d546ad95db1010108599656b4b9619be</sys_package>
        <sys_policy/>
        <sys_scope display_value="MAG Notification Editor">d546ad95db1010108599656b4b9619be</sys_scope>
        <sys_update_name>sys_script_fix_a57c218fdbe450108599656b4b9619de</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-05-07 22:06:27</sys_updated_on>
        <unloadable>false</unloadable>
    </sys_script_fix>
</record_update>
